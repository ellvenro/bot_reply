# Элементарный Telegram-бот, выполняющий основные функции

## Бот для информирования пользователей посредством чата

_**Программа создана для изучения основ при работе с пересылкой сообщений между Telegram-ботом и чатом.**_

Бот создан для общения с пользователями посредством группового чата. Работа осуществляется следующим образом:

- Пользователь начинает диалог с ботом и отправляет ему сообщения
- Сообщения пересылаются в групповой чат, где может происходить обсуждение
- При ответе на пересланное сообщение в групповом чате оно отправляется обратно пользователю через бота
- При отправлении в групповом чате команды /mailing происходит рассылка сообщений всем пользователям

[Видео](https://drive.google.com/file/d/1N70vXbaE1VX3f3uhB977Ef5jipqGbFar/view?usp=sharing), демонстрирующее работу программы.

## Основные моменты для начала работы

Для реализации работы данной программы необходимо выполнить некоторые действия:

+ Создать _**бота**_ с помощью [BotFather](https://t.me/BotFather) (_@BotFather_) и получить его токен, далее записать его в файл _config.py_
+ Создать _**групповой чат**_ в Telegram (Настройки -> Создать группу)
+ Добавить созданного бота в чат и наделить его правами _**администратора**_
+ Определить _**ID чата**_, например, с помощью бота [IDBot](https://t.me/m4n_idbot) (_@m4n_idbot_), для этого необходимо добавить его в чат и выполнить указанные им действия; полученный ID чата записать в файл _config.py_

Программу из файла bot.py запускать с помощью командной строки.

## Основные моменты при реализации

Бот написан на языке python 3, с помощью библиотеки pyTelegramBotAPI (документация [Telegram Bot API](https://core.telegram.org/bots/api)).

Сообщения пересылаются в чат с помощью функции _forward_message_.

```python
bot.forward_message(config.chat_id, message.chat.id, message.message_id)
```

Пересылка из чата происходит с помощью функции _send_message_. Чтобы получить элементы объекта message, который присылается в формате json, ключи необходимо отделять с помощью _точки_.

```python
bot.send_message(message.reply_to_message.forward_from.id, message.text)
```

Для хранения сообщений бота используется объект json. Для хранения ID пользователей используется список.
